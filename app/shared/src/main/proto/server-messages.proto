syntax = "proto3";

package flaggi;

option java_package = "flaggi.proto";
option java_outer_classname = "ServerMessages";

// Wrapper for server messages
message ServerMessageWrapper {
    oneof message_type {
        ServerInitialMessage serverInitialMessage = 1;
        ServerJoinGame serverJoinGame = 2;
        ServerRequest serverRequest = 3;
        ServerIdleClientListData serverIdleClientListData = 4;
    }
}

// Enums
enum ServerRequestType {
    SERVER_REQUEST_TEST = 0;
}

// TCP Messages
message ServerInitialMessage {
    string uuid = 1;
    int64 udpPort = 2;
}

message ServerJoinGame {
    string jsonMap = 1;
    bool primary = 2;
}

message ServerRequest {
    ServerRequestType requestType = 1;
}

message ServerIdleClientListData {
    map<string, int32> clientList = 1;
}

// UDP Messages
message ServerUpdate {
    int64 objectId = 1;
}
